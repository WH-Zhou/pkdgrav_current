Recorded email thread:

On Wed, 5 Apr 2017, Ronald Ballouz wrote:

> Hey Derek,
> Is there any documentation/tutorial on how to use the SPIN_UP modules in
> pkdgrav? I've started running desiree's code with SSDEM, and I'm looking for
> ways to improve it.
> 
> thanks,
> 
> -Ron

From: Derek C. Richardson
Date: Wed, 5 Apr 2017 17:28:28 -0400 (EDT)

Not really, but if you look at etc/ss.par in the spinup section, I can 
walk you through it briefly (fundamentally, pkdgrav identifies the 
central rubble pile and applies a spinup increment to it, subject to the 
parameters discussed below):

bUseAngMomSpinup -- recommended to set this TRUE because it allows the 
shape to deform naturally (i.e., it can expand, slowing its spin, without 
losing its angular momentum).

bSpinupAlignAxes -- probably want this TRUE to prevent unstable wobble.

dSpinupPeriodStart/Inter/Final -- set the target spin period at the 
beginning, at the end of the intermediate spinup phase, and at the end of 
the final spinup phase; e.g., start at 6 h, spin up to 3 h, and try to get 
to 2.26 h (if using ang mom spinup, these are just targets).

nSpinupStepsStart/Inter/Final -- number of steps to take during each of 
the above phases; the fewer the steps, the faster the stage.  Hold, 
RestNum, and RestTime are further refinements if you want to pause the 
spinup for a while -- you can ask Yun more about that if needed.

dSpinupRadiusInner/Outer -- if particles are located between these 
distances from the center of the main body, spinup is automatically halted 
-- this allows for orbiting material to evolve naturally; if the only 
loose particles are outside this region, spinup proceeds normally (but 
only for material inside Inner; material outside Outer is not spun up).

dSpinupCoheCoeff/Time -- a way to ramp up cohesion during spinup -- ask 
Yun if you need this.

Hope that helps!

D

From: Yun Zhang
Date: Thu, 6 Apr 2017 09:32:40 +0800

Hi Ron,

The Didymos paper also introduces the basic idea of spinup procedure
(Section 2.3.4), which can be found in https://arxiv.org/abs/1703.01595

For the cohesion in the spinup setup, the dCoheCoe will increase by an
increment of dSpinupCoeCoe after every time step of dSpinupCoheTime.
Let me know if you need more details.

Best,
Yun
